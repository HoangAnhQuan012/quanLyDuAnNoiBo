<div class="row m-b-10">
  <div class="flex justify-content-between align-items-center">
    <h3 class="m-b-0">Quản lý phân quyền</h3>
    <p-button label="Thêm mới" icon="pi pi-plus" [rounded]="true" (click)="createRoles()"></p-button>
  </div>
</div>
<div class="card">
  <div class="row p-l-40 p-r-40 m-t-20">
    <div class="col-12">
      <span class="p-input-icon-left filterText">
        <i class="pi pi-search m-l-10"></i>
        <input type="text" class="filterText" placeholder="Tìm kiếm..." pInputText [(ngModel)]="keyword"
          (keyup.enter)="getAllRoles(null)" />
      </span>
    </div>
  </div>
  <div class="p-l-20 p-r-20">
    <p-table #dt [value]="RoleData" (onLazyLoad)="getAllRoles($event)" dataKey="id" [rows]="20" [(first)]="first"
      [loading]="loading" [lazy]="true" styleClass="p-datatable-striped" [paginator]="totalCount > 0"
      [totalRecords]="totalCount" [showFirstLastIcon]="false" responsiveLayout="scroll"
      [rowsPerPageOptions]="rowPerPageOptions" [showCurrentPageReport]="true"
      currentPageReportTemplate="{{totalCount==0?'Hiển thị: 0-0/0':' Hiển thị: {first}-{last}/{totalRecords}'}} ">
      <ng-template pTemplate="header">
        <tr>
          <th id="roleName">
            Tên vai trò
          </th>
          <th id="action">
            Hành động
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-role>
        <tr>
          <td>{{ role.name }}</td>
          <td class="flex flex-wrap gap-3 justify-content-left">
            <p-button label="Sửa" severity="warning" (click)="editRole(role)"></p-button>
            <p-button label="Xóa" severity="danger" (click)="deleteRole(role)"></p-button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td class="text-center" colspan="3">Không có dữ liệu</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<p-toast key="tms" position="bottom-left"></p-toast>
